<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <title>Classes</title>
    <meta charset="utf-8">
  </head>
  <body>
    <h1>Plano Alimentar</h1>
  </body>
    <script>
		class Pessoa
		{
			constructor(nome,sexo,peso,altura,anoNascimento,atividade,objetivo)
			{
				this._nome = nome;
				this._sexo = sexo;
				this._peso = peso
				this._altura = altura;
				this._anoNascimento = anoNascimento;
				this._atividade = atividade;
				this._objetivo = objetivo;
			}

			 idade()
			{
				var ano_atual = new Date().getFullYear();
				var ano_informado = this._anoNascimento;
				var idade = ano_atual - ano_informado;
				return idade;
			}

			metabolismoBasal()
			{
				var vIdade = (new Date().getFullYear()-this._anoNascimento); // Duvida, quero chamar o metodo idade aqui, para nao ter que repetir o codigo, como faço?	
			
				//var vIdade = Pessoa.idade().idade;
				var TMB = 0;
				if (this._sexo === 1)  // Homem
				{
					TMB = TMB + 700 + (13,8*this._peso) + (5*this._altura) - (6,8*vIdade); 
				}
				if (this._sexo === 0)  // Mulher
				{
					TMB = TMB + 670 + (9,6*this._peso) + (1,8*this._altura) - (4,7*vIdade);
					return TMB;
				}
				if (this._atividade === 1)
				{
					TMB = TMB + 500;
					return TMB;
				}
				else
				{
					return TMB;
				}
			}

			objetivo()
			{
				switch (this._objetivo) 
				{
					case 1:return -300;
					case 2:return 0;
					case 3:return 300;
				}
			}
		}

	function imprimeRelatorio()
	{
		var vSexo = '';
		switch (pessoa1._sexo) 
			{
				case 1:sexo = 'Masculino';
				case 0:sexo = 'Feminino';	
			}

		document.write("_____________________________________________________________<br />");
		document.write("Nome: "+pessoa1._nome+"<br />");
		document.write("Idade: "+pessoa1.idade()+" anos. <br />");
		document.write("Peso: "+pessoa1._peso+" Kg.<br />");
		document.write("Altura: "+pessoa1._altura+"cm. <br />");
		document.write("Sexo: "+vSexo+"<br />");
		document.write("Metabolismo Basal Diário: "+pessoa1.metabolismoBasal()+" Kcal por dia.<br />");
		document.write("Objetivo: "+pessoa1.objetivo()+" Kcal por dia.");
		document.write("<br />_______________________________________________________<br /><br />");
		document.write("Consumo Calórico Diário : "+totalCalorico+" kcal.<br />");
		document.write("Ingestão Diária de Proteínas: "+array[0]+" g.<br />");
		document.write("Ingestão Diária de Carboidratos: "+array[1]+" g.<br />");
		document.write("Ingestão Diária de Gorduras: "+array[2]+" g.<br />");
		document.write("<br />_______________________________________________________<br /><br />");
	}

	function macros()
		{
			var p = Math.round(35/100*(totalCalorico/4));
			var c = Math.round(45/100*(totalCalorico/4));
			var g = (20/100*(totalCalorico/9)).toFixed(2);
			var macros = [p,c,g];
			return macros;
		}
/*		var promptNome = prompt("Digite o nome: ");
		var promptSexo = parseInt(prompt("Digite o sexo (1-Masculino | 0-Feminino): "));
		var promptPeso = parseInt(prompt("Digite o peso (Kg): "));
		var promptAltura = parseInt(prompt("Digite a altura (cm): "));
		var promptAno = parseInt(prompt("Digite o ano do nascimento: (Ex: 2021):"));
		var promptAtividade = parseInt(prompt("Pratica atividade fisica diariamente? (1-sim | 0-nao):"));
		var promptObjetivo = parseInt(prompt("Informe seu Objetivo (1-Emagrecer | 2-Manter o peso | 3-Hipertrofia Muscular): "))
		var pessoa1 = new Pessoa(promptNome,promptSexo,promptPeso,promptAltura,promptAno,promptAtividade,promptObjetivo);
*/

		var pessoa1 = new Pessoa('Heitor',1,90,180,1991,1,3);
		var totalCalorico = pessoa1.metabolismoBasal() + pessoa1.objetivo();
		var array = [];
		array = macros();
		imprimeRelatorio();
	</script>
</html>