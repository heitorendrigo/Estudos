CREATE OR REPLACE PROCEDURE PRC_UPD_COL_NOME_TABELA
(P_NOME_PK     NOME_TABELA.NOME_PK%TYPE,
 P_NOME_COLUNA NOME_TABELA.NOME_COLUNA%TYPE,
 P_COMMIT      BOOLEAN DEFAULT FALSE) IS
E_ERRO_FK       EXCEPTION;
PRAGMA EXCEPTION_INIT(E_ERRO_FK ,-2292);
BEGIN
    UPDATE NOME_TABELA
      SET NOME_COLUNA = P_NOME_COLUNA
     WHERE NOME_PK = P_NOME_PK;
    IF P_COMMIT AND SQL%ROWCOUNT > 0 THEN
       COMMIT;
    END IF;
EXCEPTION
    WHEN  E_ERRO_FK THEN
      DBMS_OUTPUT.PUT_LINE('Erro de valor em coluna relacionada');
    WHEN OTHERS THEN
      DBMS_OUTPUT.PUT_LINE('Erro de update na tabela NOME_TABELA');
END;  
